"0","# Limit the columns to the questions of interest -- subgroups ""Important"" and ""Estimable""."
"0","measures_by_user_imp <- filter(answers_by_user, (subgroup==""Important"" | subgroup==""Estimable""))"
"0","# normalize the answer text across both questions so the chart will be easier to interpret. "
"0","measures_by_user_imp$compiled_answer <- ifelse((measures_by_user_imp$compiled_answer == ""Very unlikely"" | measures_by_user_imp$compiled_answer == ""Very unimportant""), ""Very low"", ifelse((measures_by_user_imp$compiled_answer == ""Somewhat unlikely"" | measures_by_user_imp$compiled_answer == ""Somewhat unimportant""), ""Somewhat low"", ifelse((measures_by_user_imp$compiled_answer == ""Somewhat likely"" | measures_by_user_imp$compiled_answer == ""Somewhat important""), ""Somewhat high"", ifelse((measures_by_user_imp$compiled_answer == ""Very likely"" | measures_by_user_imp$compiled_answer == ""Very important""), ""Very high"", measures_by_user_imp$compiled_answer))))"
"0","# Keep track of whether the answer counts as negative"
"0","measures_by_user_imp$neg <- ifelse((measures_by_user_imp$compiled_answer == ""Somewhat high"" | measures_by_user_imp$compiled_answer == ""Very high""), 0, 1)"
"0","# Sort the measures in order of total number of negative answers"
"0","#measures_by_user_imp$name <- factor(measures_by_user_imp$name, levels=names(sort(table(measures_by_user_imp$name[measures_by_user_imp$neg == 1]),decreasing=TRUE)))"
"0","# Sort the measures in order of total number of negative answers for importance"
"0","measures_by_user_imp$name <- factor(measures_by_user_imp$name, levels=names(sort(table(measures_by_user_imp$name[measures_by_user_imp$neg == 1 & measures_by_user_imp$subgroup == ""Important""]),decreasing=TRUE)))"
"0","# Sort the subgroups so that Importance is first"
"0","measures_by_user_imp$subgroup <- factor(measures_by_user_imp$subgroup,"
"0","                                        levels=c(""Important"",""Estimable""),"
"0","                                        ordered=TRUE)"
"0","# Put answers in order of overall positivity"
"0","measures_by_user_imp$compiled_answer <- factor(measures_by_user_imp$compiled_answer,"
"0","                                               levels=c(""Skipped"","
"0","                                                        ""Unfamiliar"","
"0","                                                        ""Very low"","
"0","                                                        ""Somewhat low"","
"0","                                                        ""Somewhat high"","
"0","                                                        ""Very high"""
"0","                                                        ),"
"0","                                               ordered=TRUE)"
"0","# Create stacked bar graph"
"0","ggplot(measures_by_user_imp) + "
"0","  geom_bar(aes(x=name, fill=compiled_answer), position = position_stack(reverse = TRUE)) + "
"0","  facet_grid(.~subgroup) +"
"0","  coord_flip() +"
"0","  scale_fill_manual(values=c(""snow4"",""snow3"",""sienna3"",""sienna1"",""skyblue2"",""skyblue4""),"
"0","                    name="""")  +"
"0","  labs(title=""Partipicants rated simpler metrics at the\nnode and graph level most important."","
"0","       x=""Network measure"","
"0","       y=""Number of participants"") +"
"0","  theme_bw(base_size = 18) +"
"0","  theme(legend.position=""bottom"", "
"0","        panel.grid.major.y = element_blank(),"
"0","        panel.grid.major.x = element_blank(),"
"0","        plot.title = element_text(hjust = 0)) +"
"0","  guides(fill=guide_legend(nrow=1,byrow=TRUE))"
